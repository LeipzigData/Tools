\documentclass[a4paper,11pt]{article}
\usepackage{a4wide,ngerman,url,enumitem}
\usepackage[utf8]{inputenc}
\parskip4pt
\parindent0pt
\setlist{noitemsep}
\newenvironment{code}{\tt \begin{tabbing}
\hskip12pt\=\hskip12pt\=\hskip12pt\=\hskip12pt\=\hskip5cm\=\hskip5cm\=\kill}
{\end{tabbing}}

\title{Datenmodelle verschiedener\\ Leipziger Plattformen im Vergleich} 
\author{Hans-Gert Gräbe}
\date{Version vom 7. August 2021}

\begin{document}
\maketitle
\tableofcontents 
\newpage

\section{Vorbemerkungen}

Innerhalb einer Stadt wie Leipzig gibt es viele Akteure mit eigenen Portalen.
Eine Zusammenführung von Informationen erfolgt teilweise auf der Ebene von
Multiplikatoren wie den „Leipziger Ecken“ im Leipziger Osten, die das
Zusammenspiel von Akteuren innerhalb einzelner Stadtteile koordinieren und
eine gemeinsame Stadtteilplattform\footnote{\url{http://leipziger-ecken.de}.}
betreiben.  Weiterhin gibt es stadtweite Plattformen mit speziellen
„Sammelgebieten“\footnote{Etwa \url{https://nachhaltiges-leipzig.de} oder
\url{https://leipzig.afeefa.de}.}.

Eines der Ziele des \emph{Leipzig Data
  Projekts}\footnote{\url{http://leipzig-data.de/}.} besteht darin, einen
\textbf{Leipziger Open Data Raum} voranzubringen, indem verschiedene dieser
Leipziger Portalanbieter miteinander vernetzt werden. Ein erfolgversprechendes
Vorgehen setzt auf dies folgenden Prämissen:
\begin{itemize}
\item [1)] Die Partner betreiben eigene Portale zur Datenerfassung und
  organisieren den dazu erforderlichen techno-sozialen Prozess einschließlich
  einer gewissen Qualitätssicherung (insbesondere Spamvermeidung) in ihrer
  jeweiligen Zielgruppe. 
\item [2)] Über eine Schnittstelle (derzeit präferiert im JSON-Format) wird
  lesender Zugriff auf einen definierten Teil der Daten gewährt.
\item [3)] Diese Schnittstellen werden im Kontext von \emph{Leipzig Data}
  integriert, entsprechende Metadaten und Dienste entwickelt, um einen
  einheitlichen \emph{verteilten} Datenraum zu konstituieren, der über diese
  integrierte Schnittstelle angemessen exploriert werden kann. 
\end{itemize}
Die Schnittstellen der einzelnen Partner greifen üblicherweise auf eine lokale
Datenbank zu, welche die lokal verwalteten Zustände (also genaue Informationen
über einzelne Akteure, Orte, Events, \ldots\ auf Instanzebene) einmal für die
eigene Webdarstellung verwaltet und zum anderen für den Austausch vorhält.
Jeder solchen Datenbank liegt ein eigenes \emph{Datenmodell} zu Grunde, das im
Rahmen der Integrationsbemühungen zunächst zu explizieren und mit den
Datenmodellen der anderen Partner zu vergleichen ist.

Mit dieser Zusammenstellung wird ein erster Schritt in dieser Richtung zur
Integration verschiedener Leipziger Plattformen gegangen.  Die Darstellungen
und Vergleiche orientieren sich dabei am Datenmodell von Leipzig Data, da
dieses von Anfang an unter dem Blickwinkel der Interoperabilität entwickelt
wurde.  Das Leipzig Data Datenmodell (LDD) wird im Abschnitt~2 genauer
dargestellt. Für die anderen Portale werden die Datenmodelle in Relation zum
LDD beschrieben.

Im Weiteren werden neben allgemein gebräuchlichen Namensräumen (rdfs, gsp,
foaf, dct, org, ical, owl) die lokalen Namenspräfixe
\begin{quote}\tt
  ld: <http://leipzig-data.de/Data/Model/> \\ 
  le: <http://leipziger-ecken.de/Data/Model\#> \\ 
  nl: <http://nachhaltiges-leipzig.de/Data/Model\#>
\end{quote}
verwendet.
\newpage

\section{Leipzig Data}

\subsection{Hintergrund}

Die \emph{Leipziger Initiative für Offene Daten} ist angetreten, um die
Bemühungen zur Etablierung Offener Daten als wesentlichen Teil einer sich
entfaltenden Weblandschaft in der Leipziger Region voranzubringen.  Kern der
Bemühungen ist die Etablierung von \emph{Leipzig Data} als einer signifikanten
Menge von Beschreibungen des „Leipziger Lebens”, die unter einer freien Lizenz
in digital adressierbarer Form als Teil der \emph{Linked Open Data
  Cloud}\footnote{\url{http://lod-cloud.net/}.} öffentlich verfügbar sind.

Im Fokus steht allerdings nicht so sehr \emph{Open Data} als vielmehr
\emph{Free Speech}, da wir offene Daten nicht als Selbstzweck begreifen,
sondern als Voraussetzung der Selbstermächtigung mündiger Bürger, Freie Rede
über die sie betreffenden Angelegenheiten zu führen.

Die Initiative setzt die Aktivitäten von API Leipzig (2008-2012) mit
veränderter Schwerpunktsetzung fort und wurde von der Stadt Leipzig in einem
Kurzzeitprojekt (Nov. 2012 bis April 2013) im Rahmen ihrer „Open Innovation”
Ausschreibung unterstützt.
 
\emph{Leipzig Data} betreibt folgende Infrastruktur:
\begin{itemize}
\item Webseiten \url{http://leipzig-data.de} auf Wordpress-Basis\footnote{Dies
  soll in absehbarer Zeit durch github pages abgelöst werden.},
\item Einen github Organisationsaccount \url{https://github.com/LeipzigData}
  mit den Projekten
  \begin{itemize}
  \item \texttt{RDFData} – RDF-Wissensbasen (als Primärdaten)
  \item \texttt{Tools} – eine Reihe von Werkzeugen, im Wesentlichen zum
    Anschauen, wie es gehen könnte (Blick über die Schulter auf die Werkbank), 
  \item \texttt{web} – die Webseiten des Projekts. Der Code kann studiert
    werden, wenn es um die Einbindung von RDF-Quellen in Websites geht.
  \item sowie einer Zahl von weiteren Repos für Teilprojekte.
  \end{itemize}
\item Dazu wird eine \emph{Leipzig Ontology}
  \url{http://leipzig-data.de/ontology/} entwickelt.
\item Unter \url{http://leipzig-data.de:8890/sparql} wird ein Sparql Endpunkt
  für Queries auf den Daten angeboten, die in einem Virtuoso basierten
  RDF-Store (als Sekundärdaten) gehostet sind.
\item Unter \url{http://leipzig-data.de/info} und
  \url{http://leipzig-data.de/demo} werden zwei Infoseiten mit Beispielen
  betrieben, in denen demonstriert wird, wie sich Webseiten aus RDF-Quellen
  erzeugen lassen.  Die Quellen dieser Anwendungen sind im Repo
  \url{https://github.com/LeipzigData/web} zu finden.
\end{itemize}

\subsection{Schnittstelle}

SPARQL Endpunkt \url{http://leipzig-data.de:8890/sparql} des LD-Projekts.

\subsection{Datenmodell}

Das Datenmodell ist hier nur bis zu einer groben Granularitätsebene
beschrieben.  Für weitere Informationen wird auf
\url{http://leipzig-data.de/ontology} verwiesen.

\subsubsection*{Allgemeine Übersicht über den Datenbestand}

Kern dieses Datenbestands sind aktuell \emph{Akteure}, \emph{Orte},
\emph{Adressen}, \emph{Treffpunkte} und \emph{Events}, die zusammen ein System
von \emph{White Pages} bilden, mit denen Geolokalität auf einheitliche Weise
referenzierbar (und damit auch aufeinander beziehbar) wird. Basis dieses
Systems sind die aus dem API-Leipzig Projekt und damit letztlich von der Stadt
Leipzig übernommenen und weiter aktualisierten über 65\,000 Datensätze
Adressdaten, von denen über 63\,000 mit Geokoordinaten (Übernahme aus
Nominatim mit anschließender weiterer Konsolidierung und Qualitätssicherung)
versehen sind. Damit lassen sich auch ohne Dienste wie Google Maps Leipziger
Orte an Geodaten binden und so auf Karten lokalisieren. Die höhere Qualität
gegenüber einer reinen Referenzierung der Geokoordinaten etwa über die
Google-API ergibt sich aus der vorgenommenen Disambiguierung, die etwa dem
Unterschied zwischen der Verwendung von Rechneradressen und Rechnernamen
entspricht, sowie der Möglichkeit, an diese Adress- oder Orts-URIs weitere
Information zu binden. Diese White Pages werden vor allem im Leipzig Data
Event Projekt fortgeschrieben.

Daneben gibt es Einzelprojekte, mit denen Daten aus verschiedenen Quellen
aufbereitet worden sind wie MINT-Orte, Schulen, Polizeidirektion,
Seniorenbüros.

\subsubsection*{RDF-Graphen und Klassen}

\paragraph{Adressen und Geodaten der Stadt Leipzig.} 
Eine \emph{Leipziger Adresse} als Instanz der RDF-Klasse
\texttt{ld:LeipzigerAdresse} ist ein geolokaler Punkt in der Stadt Leipzig mit
einer Hausnummer, wo zum Beispiel eine Postzustellung möglich ist. Die Daten
(über 65\,000 Datensätze) wurden 2012 im Rahmen des API-Leipzig Projekts von
der Stadtverwaltung (einschließlich Referenzen auf das Straßenverzeichnis)
übernommen, im Rahmen des Leipzig Data Projekts unter Verwendung eines
einheitlichen Namensschemas für URIs in das RDF-Format transformiert und in
\texttt{Adressen.ttl} zusammengefasst.

Hausnummern sind \emph{Grundstücken} zugewiesen, diese können aus mehreren
\emph{Flurstücken} bestehen. Verschiedene Gebäude auf einem solchen Grundstück
könnten später durch URIs bezeichnet werden, die die Grundstücksadresse als
Namenspräfix haben. Damit folgt unsere Bezeichnung der im Kataster der Stadt
Leipzig\footnote{\url{https://www.leipzig.de/bauen-und-wohnen/bauen/liegenschaftskataster}.}.

Im Rahmen des \emph{Linked Geodata
  Projekts}\footnote{\url{http://aksw.org/Projects/LinkedGeoData.html}.}
wurden diese Daten mit Geodaten angereichert. Die Daten wurden initial von
Claus Stadler über
\texttt{nominatim}\footnote{\url{https://wiki.openstreetmap.org/wiki/Nominatim}.}
aus Open Streetmap extrahiert, danach weiter ergänzt und aktualisiert.

Ausgewählte Adressen außerhalb von Leipzig sind in
\texttt{WeitereAdressen.ttl} nach demselben URI-Schema in einer verkürzten
Ontologie erfasst.

Es gibt geolokale Punkte, die nicht durch eine solche Adresse referenziert
werden können, wie Treffpunkte, Kinderspielplätze u.ä. Dafür wurde das Konzept
\emph{Treffpunkt} eingeführt, das aus einem Bezeichner und weiterer geolokaler
Information besteht.

In Anwendungen (etwa den Events) sind die standardisierten Adressen bis auf
die Hausnummer aufgelöst. Weitere Informationen sind als Adresszusatz
(\texttt{ld:hasAddressAddendum}) einzutragen.

Die URI einer solchen Adresse wird nach einheitlichen Prinzipien aus den
Informationen (PLZ, Stadt, Straße, Hausnummer) aufgebaut, so dass auch aus
anderen Adresssystemen diese URIs generierbar sind, insofern diese vier
Datenbestandteile separiert werden können.

\paragraph{Prädikate:}
\begin{itemize}
\item ld:hasPostCode Literal – Postleitzahl
\item ld:hasCity Literal – Stadt
\item ld:hasStreet Literal – Straße, in welcher sich die Adresse befindet
\item rdfs:label Literal – Bezeichner, etwa “Leipzig, Messering 6” 
\item gsp:asWKT Literal – Geokoordinaten im WKT-Format “Point(long lat)”
\item ld:inOrtsteil ld:Ortsteil – Ortsteil, in welchem sich die Adresse
  befindet
\item ld:inStreetId ld:Strasse – Straße, in welcher sich die Adresse befindet
\end{itemize}

\paragraph{Orte.} 
Ein \emph{Leipziger Ort} ist ein Ort mit einer \emph{Adresse} und einem
\emph{Träger}, der ein genaueres \emph{Profil} hat und wo \emph{Events}
veranstaltet werden.

\paragraph{Prädikate:}
\begin{itemize}
\item dct:modified xsd:date – letzte Modifikation des Datensatzes
\item Orga-Literale foaf:mbox, foaf:phone, foaf:homepage
\item ld:erreichbar Literal – Erreichbarkeit mit öffentlichem Nahverkehr
\item ld:hasAddress ld:LeipzigerAdresse – Adresse
\item ld:hasAddressAddendum Literal – Adresszusatz
\item ld:hasAnschrift Literal – Anschrift, Postfach oder so, wenn der Ort
  keine ld:Adresse hat (Beispiel: LSGM)
\item ld:hasSupplier org:Organization oder Unterklasse – Träger
\item ld:hasTag ld:Tag – Klassifizierung (Konsolidierung der literalen Werte
  von ld:Art und ld:Bereich)
\item ld:contactPerson, ld:engagedPerson ld:Person – am Ort engagierte
  Personen
\item rdfs:label Literal – Bezeichnung
\item Inhalts-Literale (alle mehrfach möglich) ld:Arbeitsformen, ld:Art,
  ld:Auszeichnungen ld:Finanzierung, ld:Hintergrund, ld:Kosten,
  ld:Kurzinformation, ld:Leistungsangebot, ld:Oeffnungszeiten,
  ld:Teilnahmebedingungen, ld:Zielgruppe, ld:Zielstellung
\item Einordnungsliterale zu einer der städtischen Übersichten: ld:Categories,
  ld:hasStadtId
\end{itemize}

Neben dieser Art von Orten existieren auch Stellen in Leipzig, die einen
gebräuchlichen Namen haben, aber nur durch Geokoordinaten referenzierbar sind,
also zur Kategorie \emph{Treffpunkt} gehören. Dazu gehören \emph{Spielplätze},
die aus Stadtdaten übernommen wurden, die im Rahmen der OK-Lab Initiative
\texttt{codefor.de/leipzig} (Stand 2014) extrahiert hat, sowie
\emph{Haltestellen} des Nahverkehrs, die aus Daten im Open Data Portal der
Stadt Leipzig extrahiert wurden. 

\paragraph{Akteure und Personen.} 
Synonym wird auch der Begriff \emph{Träger} verwendet. \emph{Akteure} sind
natürliche oder juristische Personen mit verschiedenen Aktivitäten. Diese
wurden zunächst in einem RDF-Graphen \texttt{Traeger.ttl} zusammengefasst,
sind aber nun nach verschiedenen Kriterien in einzelne RDF-Graphen
aufgesplittet.  Die Ontologie orientiert sich an der \texttt{org}-Ontologie,
die für die verschiedenen Unterklassen um einzelne Felder erweitert wird.

\emph{Juristische Personen} sind rechtsfähige Träger verschiedener Aktivitäten
und Betreiber von Orten in Leipzig. Eine juristische Person ist eine
Unterklasse von \texttt{org:Organization} und kann weiteren Klassen wie
\texttt{ld:Verein}, \texttt{ld:Unternehmen} zugeordnet werden, soll aber immer
auch \texttt{org:Organization} sein, um Inferenzen längs Vererbungshierarchien
zu vermeiden. URIs juristischer Personen haben die Gestalt
\texttt{Data/<OrgForm>/<name>}, wobei \texttt{<OrgForm>} auf die
Organisationsform hinweist. Damit soll diese Information perspektivisch
verfeinert werden.

Personen sind im RDF-Graphen \texttt{Personen.ttl} als \texttt{foaf:Person}
erfasst und in den anderen RDF-Graphen referenziert, etwa über das Prädikat
\texttt{org:hasMember}.

Über das Prädikat \texttt{owl:sameAs} werden Verweise auf dieselben Akteure
oder Personen in den Datenbanken von Partnern verwaltet. 

\paragraph{Events.}
Ziel dieses Teilprojekts ist es, eine Infrastruktur aufzubauen, in die
Event-Daten in einheitlichem Format aus verschiedenen Quellen und von
verschiedenen Akteuren eingespeist werden und der Allgemeinheit zum Gebrauch
zur Verfügung stehen.

Die Infrastruktur bietet keinen elaborierten eigenen Service zur Präsentation
dieser Event-Daten, sondern überlässt die Zusammenführung mit weiteren
Event-Daten, Filterung und Präsentation den Anbietern, die auf diese
Infrastruktur zugreifen möchten. Die prinzipiellen Möglichkeiten eines solchen
Events Frameworks wurden in mehreren Beispielprojekten demonstriert. 

Der primäre Zugriff erfolgt über Sparql-Anfragen auf einen Sparql-Endpunkt, in
dem die Event-Daten mit weiteren Daten über Veranstalter und
Veranstaltungsorte angereichert und zusammengeführt sind.  Das derzeit
vorliegende einheitliche Format (aka Protokoll) ist das Ergebnis eines
längeren Entwicklungsprozesses. Fragen der Weiterentwicklung des Protokolls
sind zwischen interessierten Partnern noch genauer abzustimmen.

\paragraph{Prädikate:}
\begin{itemize}
\item ld:contactPerson foaf:Person – Ansprechpartner für das Event
\item ical:contact Literal – Kontaktinformation als String
\item ical:description Literal – Beschreibung des Events
\item ld:hatVeranstaltungsort ld:Ort – Ort, an dem das Event stattfindet
\item ld:hatTreffpunkt ld:Treffpunkt – Treffpunkt für das Event
\item ld:hasAddressAddendum Literal – genauere Bezeichnung innerhalb von
  ical:location
\item ical:summary Literal – kurze Beschreibung (max. 100 Zeichen) des Events
\item ical:dtstart, ical:dtend Literale (xsd:date oder xsd:datetime)
\item ld:hatVeranstalter org:Organization – Veranstalter des Events
\item ical:sentBy foaf:Agent – Quelle der Eventinformation
\item ld:hasTag ld:Tag – Tags für das Event
\item ld:zurReihe ld:Projekt – Zuordnung zu einer Veranstaltungsreihe
\item Weitere Orga-Literale wie ld:Kosten
\end{itemize}
\newpage

\section{Leipziger Ecken}

\subsection{Hintergrund}

\emph{Leipziger Ecken} ist eine Stadtteilinitiative, welche die Plattform
\url{https://leipziger-ecken.de} betreibt. Die Plattform basiert auf Drupal
und wird im Wesentlichen von Felix Albroscheit gewartet und weiterentwickelt,
mit dem zunächst eine RDF-Schnittstelle auf einem Dump der Datenbank
entwickelt wurde, die aktuell unter \url{https://leipziger-ecken.de/Data/} auf
der Produktivplattform ausgerollt ist. 

Am 19.06.2021 schreibt Felix Albroscheit über eine neu implementierte API:
\begin{quote}
  Meine Ambitionen gingen bisher dahin, eine vollständig durch das Drupal-Team
  unterstützte API anzubieten (samt unterstützter Paginierung, Filterung und
  Sortierung). Aktuell ist dies mit unserer JSON-API der Fall, welche nun auch
  halbwegs dokumentiert ist:
  \begin{center}
    \url{https://github.com/Leipziger-Ecken/drupal/blob/master/docu/API.md}    
  \end{center}
  Es gäbe also die Möglichkeit, auf Basis dieser API die Daten nach RDF
  umzuwandeln und als weiteren Endpunkt anzubieten. 
\end{quote}

\subsection{Schnittstelle}

Hier ist eine Übersicht über die einzelnen Teil-APIs, die aus der oben
genannten Quelle übernommen wurde
\begin{center}
  \begin{tabular}{ll}
    Index & \url{https://leipziger-ecken.de/jsonapi/}\\
    Akteure/Actors & \url{https://leipziger-ecken.de/jsonapi/akteure}\\
    Veranstaltungen/Events & \url{https://leipziger-ecken.de/jsonapi/events}\\
    Bezirke/Districts & \url{https://leipziger-ecken.de/jsonapi/districts}\\
    Akteurtypen/Actor types &
    \url{https://leipziger-ecken.de/jsonapi/akteur_types}\\
    Kategorien/Categories &
    \url{https://leipziger-ecken.de/jsonapi/categories}\\
    Schlagwörter/Tags & \url{https://leipziger-ecken.de/jsonapi/tags}\\  
    Zielgruppen/Target groups &
    \url{https://leipziger-ecken.de/jsonapi/target_groups}
  \end{tabular}
\end{center}


\subsection{Datenmodell (alt)}

Im Modell werden die vier Klassen \emph{Akteure}, \emph{Adressen},
\emph{Events} und \emph{Sparten} unterschieden.  Die folgenden Ausführungen
nehmen Bezug auf die in den Leipzig Data Tools verfügbaren
Transformationsskripte\footnote{Siehe
  \url{https://github.com/LeipzigData/Tools/tree/master/leipziger-ecken/le-rdf}.}. 

\paragraph{Adressen.}
Instanzen dieser Klasse enthalten die Textprädikate \texttt{plz} (Stadt ist
immer Leipzig), \texttt{strasse}, \texttt{nr}, \texttt{adresszusatz},
\texttt{gps} (Geokoordinaten) sowie einen Verweis auf den Stadtbezirk
(präziser: auf einen der 63 Leipziger Ortsteile).  Mit dem Adresszusatz sind
die Instanzen also nicht ganz identisch mit \texttt{ld:LeipzigerAdresse}. Im
Transformationsskript werden daraus (syntaktisch korrekte Vorschläge für)
Instanzen von \texttt{ld:LeipzigerAdresse} generiert.  Der Verweis auf den
Ortsteil ist redundant, da aus einer LDD Leipziger Adresse der zugehörige
Ortsteil ermittelt werden kann. 

\paragraph{Akteure.}
In dieser Klasse sind Informationen zur juristischen Person
(\texttt{ld:Akteur}), zum betriebenen Ort (\texttt{ld:Ort}) sowie zu einigen
beteiligten Personen (\texttt{foaf:Person}) zusammengefasst.  Im
Transformationsskript wird versucht, diese drei Bestandteile voneinander zu
trennen, wobei die Personen-Referenzen nur bis zu \texttt{org:Membership}
aufgelöst werden können, da Personen über einen Fremdschlüssel in eine Tabelle
referenziert werden, die aus naheliegenden Gründen nicht mit exportiert
wird\footnote{Im Gegensatz zu den anderen Tabellen, die eine Erweiterung des
  Drupal-Datenmodells darstellen, verweisen diese Referenzen auf die
  Drupal-Usertabelle.}. Hier wäre es sinnvoll, diese Angaben zusätzlich als
\texttt{foaf:Person} zu extrahieren und damit die exportierten RDF-Daten zu
ergänzen.

Instanzen dieser Klasse enthalten die Textprädikate \texttt{name},
\texttt{email}, \texttt{telefon}, \texttt{url}, \texttt{ansprech\-partner},
\texttt{funktion}, \texttt{bild}, \texttt{beschreibung},
\texttt{oeffnungszeiten} sowie die Verweise auf \texttt{adresse} und
\texttt{ersteller}.

\paragraph{Event.}
Die Modellierung folgt der von \texttt{ld:Event}. In der neuen LE-Version sind
für Events nur noch Start- und Endzeit gegeben, die komplexeren Möglichkeiten
von regelmäßig stattfindenden Events wird aktuell -- wie in \texttt{ld:Event}
-- nicht unterstützt.

Instanzen dieser Klasse enthalten die Textprädikate \texttt{name},
\texttt{kurzbeschreibung}, \texttt{bild}, \texttt{url}, die Verweise auf
\texttt{ort} und \texttt{ersteller} sowie die \texttt{datetime}-Prädikate
\texttt{start\_ts} und \texttt{ende\_ts}. 

\paragraph{Sparten.}
Instanzen dieser Klasse spannen eine nicht konsolidierte Tagwolke auf, um die
Events zu kategorisieren.

\paragraph{Unterschiede zu \texttt{ld:Event}.}
\begin{itemize}
\item \texttt{ical:location} verweist nicht auf einen \texttt{ld:Ort}, sondern
  auf eine \texttt{le:Adresse}.
\item \texttt{ical:creator} verweist auf eine Person in der nicht zugänglichen
  Personentabelle.
\item Über \texttt{le:hatAkteur} ist einem Event teilweise ein Akteur
  zugeordnet.
\item Über \texttt{le:zurSparte} sind einem Event Schlagworte zugeordnet.
\end{itemize}
\newpage

\section{Nachhaltiges Sachsen}

\subsection{Hintergrund}

\emph{Nachhaltiges Sachen}\footnote{\url{https://nachhaltiges-sachsen.de/}.}
ist ein sachsenweites Projekt, um Anbietern in den Bereichen Nachhaltigkeit
und MINT eine gemeinsame Plattform zu bieten, über die standardisierte
Informationen zu den \emph{Anbietern} sowie deren \emph{Aktivitäten}
verbreitet werden.  Das Projekt entstand aus dem Vorgängerprojekt
\emph{Nachhaltiges Leipzig} durch eine Werweiterung um Regionen. Das
Vorgängerprojekt ist in diesem Projekt aufgegangen.

Die Anbieter nutzen eine webbasierte
Erfassungsschnittstelle\footnote{\url{https://daten.nachhaltiges-sachsen.de/}.},
um die entsprechenden Informationen bereitzustellen.  Die Plattform stellt
eine REST-Schnittstelle zur Verfügung, über welche Informationen strukturiert
ausgelesen werden können.

\subsection{Schnittstelle}

Die Schnittstelle ist unter
\url{https://daten.nachhaltiges-sachsen.de/api/doc} genauer beschrieben.

\begin{itemize}
\item \url{https://daten.nachhaltiges-sachsen.de/api/v1/activities.json}

Returns an array of all activity objects. They are the core concept of this
application.

\item
  \url{https://daten.nachhaltiges-sachsen.de/api/v1/categories.json} 

Returns an array of all category objects. Activities may belong to one or more
categories and subcategories. Each activity can have one or more goals, think
of them as „tags“. The count for each \texttt{goal\_cloud} object shows how
many activities from each category use each goal. Use this to build a tag
cloud.

\item \url{https://daten.nachhaltiges-sachsen.de/api/v1/locations.json} 

Returns an array of all location objects. Locations can be referenced by users
and activities.

\item \url{https://daten.nachhaltiges-sachsen.de/api/v1/regions.json}

Returns an array of all region objects.
 
\item \url{https://daten.nachhaltiges-sachsen.de/api/v1/products.json}

Returns an array of all product objects. They are specific to the activity
type \emph{Filiale}.

\item
  \url{https://daten.nachhaltiges-sachsen.de/api/v1/trade_categories.json} 

Returns an array of all \texttt{trade\_category} objects. They are specific to
the activity type \emph{Filiale}.

\item
  \url{https://daten.nachhaltiges-sachsen.de/api/v1/trade_types.json} 

Returns an array of all \texttt{trade\_type} objects. They are specific to the
activity type \emph{Filiale}.

\item \url{https://daten.nachhaltiges-sachsen.de/api/v1/users.json}

Returns an array of all user objects. 
\end{itemize}

\subsection{Datenmodell}

Im Modell werden die zwei Klassen \emph{Akteure} (\texttt{users}) und
\emph{Aktivitäten} (\texttt{activities}) unterschieden, welche über die
REST-API ausgelesen werden können.  Im Modell sind weitere Datenstrukturen
implizit als Konzepte vorhanden.

Das ist zum einen eine genauere Aufteilung eines \emph{Akteurs} in
\begin{itemize}
\item die Beschreibung des Akteurs,
\item die Adresse,
\item der Ansprechpartner und
\item die Accountdaten des Ansprechpartners,
\end{itemize}
die alle in einer gemeinsamen Datenbanktabelle \emph{users} zusammengefasst
sind.

\emph{Aktivitäten} sind in verschiedene Aktivitätstypen unterteilt, welche
durch den Wert eines speziellen Attributs \texttt{type} unterschieden werden.
Neben generischen Attributen haben die einzelnen Aktivitätstypen weitere
spezielle Attribute, was man in einer zweistufigen (erweiterbaren)
Vererbungshierarchie oder in einem RDF-Modell bzw. als abstrakten Datentyp (im
Sinne etwa von Java Interfaces) als Mengen von Signaturen beschreiben kann.
Im Weiteren wird die letztere Darstellungsform verwendet. 

Die folgenden Ausführungen nehmen außerdem Bezug auf die in den Leipzig
Data Tools verfügbaren Transformationsskripte\footnote{Siehe
  \url{https://github.com/LeipzigData/Tools/tree/master/nachhaltiges-leipzig/nl-rdf}.}.

Die Klasse \emph{Akteure} umfasst wie im LE-Projekt ein Sublimat aus
Informationen zu \texttt{ld:Akteur}, zu dessen Adresse sowie zu Personen, die
für den Akteur als Ansprechpartner tätig sind.  Es lässt sich nicht
unterscheiden, ob zum Beispiel eine Telefonnummer oder eine Adresse zum
Vereinsbüro gehört oder zum Ansprechpartner.  Mit dem Transformationsskript
wird versucht, diese Informationen in die Teile \texttt{org:Organization}
(Akteure), \texttt{foaf:Person} (Personen) und \texttt{org:Membership} (Rolle
dieser Person beim Akteur) aufzuteilen.  An anderer Stelle wird aber sehr wohl
der Datentyp \emph{Kontakt} („Kontakt zur Abholung“ einer Ressource,
„Ansprechpartner“ eines Bildungsangebots) als Teilinterface mit [Name,
  Email-Adresse, Telefon] verwendet.   

Die Klasse \emph{Aktivitäten} zerfällt in die Unterklassen („Datensatztypen“
in der NL-Sprache) \texttt{Event}, \texttt{Action}, \texttt{Project},
\texttt{Service} und \texttt{Store}, die über das Feld \texttt{type}
unterschieden werden. Im Zuge der Überarbeitung Ende 2018 wurden die „Klassen“
\texttt{Ressource}, \texttt{Bildungsangebot} und \texttt{Beratungsangebot} als
Unterklassen von \texttt{Service} eingeführt, wobei hier die zusätzliche
Unterscheidung über das Feld \texttt{service\_type} ausgeführt wird.

In der aktuellen (Febr 2019) Version werden für einen „einfachen Akteur“
Erfassungsmasken für die Datensatztypen \emph{Project}, \emph{Event},
\emph{Action} sowie die drei Servicetypen \emph{Ressourcen},
\emph{Bildungsangebot} und \emph{Beratungsangebot} angeboten. 

Zur Unterscheidung der Instanzen werden ID's als numerische Primärschlüssel
der Datenbank verwendet. In den Transformationsskripten werden lokale URIs
direkt aus diesen Primär"|schlüsseln erzeugt. Diese haben (bis auf Personen,
deren Daten dem Namensschema von Leipzig Data folgen, die Informationen werden
aus Datenschutzgründen nur intern verwendet) grundsätzlich die Struktur
\texttt{<Präfix>/<Typ>.<Id>} mit \texttt{<Typ>}$\in \{\texttt{Person},
\texttt{Akteur}, \texttt{Activity}\}$.

\paragraph{Adressen.} 
In der Anforderungsbeschreibung für eine Erweiterung (Ende 2017) soll eine
weitere Klasse \emph{Orte} ergänzt werden, die eine akteursübergreifende
Verwaltung von Adressdaten umsetzt. Eine \emph{Adresse} ist dabei eine
implizite Datenstruktur, die über die API als Menge von Attributen
\begin{itemize}
  \item full\_address -- String
  \item district -- String
  \item latlng -- Array
\end{itemize}
ausgeliefert wird. \texttt{full\_address} ist dabei bereits ein Aggregat, das
aus den intern separierten Bestandteilen \emph{Straße und Hausnummer},
\emph{PLZ} und \emph{Ort} kombiniert wurde.

Adressen\footnote{In der NL-Terminologie „Orte“, allerdings werden zu Orten in
  der aktuellen Konzeption keine Daten jenseits der Adressdaten und eines
  (verbindlichen) Namens gespeichert.} werden grundsätzlich als Datenaggregate
verwaltet, nicht als Datenobjekte.  Wenn zu einer Aktivität keine Adresse
angegeben ist, wird die Adresse aus den Profildaten des Akteurs übernommen.
Spätere Änderungen dieser Profildaten haben aber aktuell keine Auswirkung auf
diesen Klon.

Es ist eine akteursübergreifende Datenbank zu Orten im Aufbau, aus der häufig
verwendete Adressdaten übernommen werden können.  Auch dies geschieht durch
einfache Übernahme der entsprechenden Attributwerte. Geplant ist, Änderungen
in dieser Datenbasis in die entsprechenden ADressfelder von Aktivitäten (und
auch Akteuren?) zu propagieren, wozu ein System von Backlinks aufgebaut werden
müsste. Unklar bleibt, wie mit zwischenzeitlichen Änderungen umgegangen wird,
die vom Besitzer der Aktivität an den früher übernommenen Adressdaten
vorgenommen worden sind.

\paragraph{Akteure.}
In der Collection \texttt{users} (Akteure) sind Informationen über Akteure
zusammengefasst, wobei nicht zwischen den juristischen Personen und den für
diese agierenden Personen unterschieden wird. 

Prädikate in users.json:
\begin{itemize}
\item Akteur
\begin{itemize}
  \item id -- String
  \item name -- String, Name der Organisation
  \item organization\_type -- String, Art der Organisation (gewerbliches
    Unternehmen, gemeinnütziger Verein, Stiftung, Genossenschaft, Initiative,
    Freiberufler, Bildungseinrichtung, Sonstige Organisation)
  \item organization\_url -- String, Homepage
  \item organization\_logo\_url -- String, Logo
\end{itemize}
\item ?? -- Checkbox, Handels- oder Gastronomieeinrichtung (nicht mit
  ausgeliefert)
\item ?? -- Checkbox, veröffentlicht (nicht mit ausgeliefert)
\item ?? -- Checkbox, aktiv (nicht mit ausgeliefert)
\item Adresse (des Akteurs oder des Ansprechpartners?)
\item ?? -- Checkbox, Anschrift öffentlich sichtbar (nicht mit ausgeliefert)
\item Ansprechpartner
\begin{itemize}
  \item first\_name -- String
  \item last\_name -- String
  \item organization\_position -- String
\end{itemize}
\item Account- und Erreichbarkeitsdaten
\begin{itemize}
  \item email -- String
  \item phone\_primary -- String
  \item phone\_secondary -- String
  \item Passwort (nicht mit ausgeliefert)
\end{itemize}
\end{itemize}

\paragraph{Aktivitäten.}
\texttt{activities} ist ein Obertyp zu verschiedenen Arten von Aktivitäten
(Aktionen, Events, Projekte, Services, Stores, \ldots), die mit dem Prädikat
\texttt{nl:hasType} näher spezifiziert werden.  In der Collection
\texttt{activities} sind Informationen über die verschiedenen Typen von
Aktivitäten zusammengefasst, wobei nicht alle Prädikate bei allen Untertypen
verwendet werden. Leere Prädikate werden bei den RDF-Dumps nicht
berücksichtigt.

Generische Prädikate:
\begin{itemize}
  \item id -- String
  \item type -- String (Typ der Aktivität), Auswahl
  \item user\_id -- String (Id des beteiligten Akteurs), Auswahl
  \item name -- (Titel, Name) String
  \item description -- (Beschreibung) String
  \item Adresse (an der die Aktivität stattfindet) -- Ortsauswahl
  \item is\_fallback\_address -- String (Boolescher Wert, Bedeutung unklar)
  \item info\_url -- String
  \item video\_url -- String
  \item image\_url -- String
  \item categories -- Array, weitere Kategorien (siehe Kategorienkonzept)
  \item first\_root\_category -- String, Hauptkategorie
\end{itemize}

Weitere Prädikate für Actions:
\begin{itemize}
  \item start\_at -- String, Zeitraum/Termine (als Freitextfeld)
\end{itemize}

Weitere Prädikate für Events:
\begin{itemize}
  \item start\_at -- String (mit Auswahl Datum/Zeit hinterlegt)
  \item end\_at -- String (mit Auswahl Datum/Zeit hinterlegt)
  \item target\_group -- (Zielgruppe) String, Freitextfeld
  \item costs -- (Kosten) String, Freitextfeld
  \item requirements -- (Bedingungen) String, Freitext-Area
  \item speaker -- (Referenten) String, Freitextfeld
  \item ?? -- Checkboxen, kostenfrei, kinderfreundlich, barrierefrei (nicht
    mit ausgeliefert) 
  \item goals -- (Ziele) Array, Mehrfachauswahl, wird aktuell nicht mit
    ausgeliefert.
\end{itemize}

Weitere Prädikate für Projects:
\begin{itemize}
  \item short\_description -- (Kurzbeschreibung) String, Freitext-Area
  \item goals -- (Ziele) Array, Mehrfachauswahl
  \item property\_list -- Array, Liste mit speziellen Merkmalen, als
    Freitext-Area, die zeilenweise ausgelesen wird. 
\end{itemize}

Weitere Prädikate für Services:
\begin{itemize}
  \item target\_group -- String, Zielgruppenbeschreibung
  \item costs -- String, Kosten
  \item requirements -- String, Bedingungen
  \item short\_description -- String, Kurzbeschreibung
  \item goals -- Array
  \item service\_type -- String, Angebotsart (Workshop, Exkursion, Vortrag,
    GTA, Unterrichtseinheit, Beratungsangebot)
  \item target\_group\_selection -- String, Auswahl (Kindergarten,
    Grundschule, Sekundarstufe, Erwachsenenbildung)
  \item duration -- String
\end{itemize}
Neu gibt es Beratungsangebote und Bidungsangebote, jeweils ohne Feld
„Angebotsart“ 

Weitere Prädikate für Store:
\begin{itemize}
  \item short\_description -- String
  \item property\_list -- Array
  \item products -- Array
  \item trade\_categories -- Array
  \item trade\_types -- Array
\end{itemize}

Auf dieser Basis sind folgende Transformationen nach LDD möglich:
\begin{itemize}\raggedright
\item \texttt{full\_address} kann als \texttt{ld:proposedAddress} in eine
  syntaktisch korrekte URI einer \texttt{ld:LeipzigerAdresse} transformiert
  werden. 
\item \texttt{latlng} kann in eine \texttt{gsp:asWKT} Geo-Adresse
  transformiert werden.
\end{itemize}

\paragraph{Weitere Teile der Modellierung.}
Diese sind noch wenig ausgearbeitet und enthalten oft nur wenige Instanzen pro
Klasse. 
\begin{itemize}
\item \texttt{categories} repräsentiert eine baumartige Struktur verschiedener
  Tags, die einzelnen Aktivitäten zugewiesen sind.  Diese Struktur wird zur
  Menüführung verwendet. 
\item \texttt{goals} repräsentiert eine geordnete Liste verschiedener Tags, die
  einzelnen Aktivitäten zugewiesen sind. Das ist als Tagwolke modelliert, kann
  aber -- mit Blick auf die Datenqualität -- nur von einem Administrator
  erweitert werden.
\item \texttt{products} repräsentiert eine Liste verschiedener
  Produktkategorien, die einzelnen Stores zugewiesen sind.
\item \texttt{trade\_types} und \texttt{trade\_categories} repräsentieren zwei
  geordnete Listen verschiedener Tags, die einzelnen Akteuren über 
  Crossreferenz-Tabellen zugewiesen sind.
\end{itemize}
\newpage

\section{Gebäudenavigator}

\subsection{Hintergrund}
Im Rahmen der Zusammenarbeit mit dem Behindertenverband Leipzig e.V. hat Konrad
Abcht vom AKSW-Team einen
Gebäudenavigator\footnote{\url{http://leipzig-data.de/anwendungen/gebaudenavigator/}}
entwickelt, in welchem die behindertengerechte Ausstattung von etwa 1800
Leipziger Orten hinterlegt ist.

Datenbasis ist eine vom BVL gepflegte Datenbank mit Informationen über 2600
öffentliche Gebäude und Plätze in Leipzig. Jedes Gebäude und jeder Platz wurde
nach der Eignung für Menschen mit Mobilitätseinschränkungen klassifiziert. Es
wurden jedoch nicht nur Angaben zur Mobilität gemacht, sondern auch
Informationen über viele andere Zugangshilfen hinterlegt. Für Menschen mit
Sinnesbeeinträchtigungen (blind, gehörlos) gibt es, falls vorhanden, genaue
Beschreibungen der Angebote vor Ort.

Die Datenbasis (Instanzdaten) ist im Open Data Portal der Stadt Leipzig im RDF
Graphen \url{https://opendata.leipzig.de/bvlplaces/} zugänglich.  Es wird der
Namensraum \url{https://places.behindertenverband-leipzig.de/} verwendet und
die Instanzdaten unter der jeweiligen Adresse RDF-konform menschenlesbar
dargestellt. 

\subsection{Schnittstelle}

Die Daten können über den SPARQL Endpunkt
\url{https://opendata.leipzig.de/virt-sparql} des Open Data Portals der Stadt
Leipzig ausgelesen werden.

Die folgende Anfrage (der Prefix ist hier aus drucktechnischen Gründen
eingekürzt) etwa listet alle 814 Orte auf
\begin{code}
  PREFIX bvlo: <https://github.com/AKSW/.../ontologies/place/ontology.ttl\#>\\
  SELECT *\\
  FROM <https://opendata.leipzig.de/bvlplaces/>\\
  WHERE \{\\\>
    ?s a bvlo:Place; dc:title ?t .\\
  \}
\end{code}

\subsection{Datenmodell}

Alle Instanzen gehören zur Klasse \texttt{bvlo:Place}.  Neben den bekannten
Ontologien (rdf, dc, dcterm, schema, skos, dbpedia-owl, geo) sowie der weniger
bekannten „Wheelchair Accessibility“ Ontologie
\begin{quote}\tt
  swa: <http://semweb.mmlab.be/ns/wa\#>
\end{quote}
werden zwei eigene Ontologien \texttt{bvlo} und \texttt{bvla} entwickelt, um
die Zugänglichkeit der Places genauer zu beschreiben.

Aus den drei Prädikaten \texttt{schema:addressLocality} (Ort),
\texttt{schema:postalCode} (PLZ) und \texttt{schema:streetAddress} (Straße und
Hausnummer) lässt sich für viele Instanzen ein Mapping auf
\texttt{ld:LeipzigerAdresse} konstruieren.

Die Prädikate sind oft selbsterklärend, da „sprechende Namen“ verwendet werden:
\begin{itemize}
\item rdf:type, dc:title (rdfs:label), dcterms:identifier (ID des Datensatzes)
\item dbpedia-owl:category -- Zuordnung zu einer Dbpedia Kategorie, hier als
  Literal 
\item skos:note -- genauere Aufzeichnungen zur Historie des Datensatzes
\item Adressinformationen: schema:addressLocality,
  schema:postalCode,\\ schema:streetAddress, geo:lat, geo:long
\item Weitere Informationen zum Betreiber: schema:email, schema:WebSite,\\
  schema:faxNumber, schema:telephone
\end{itemize}
Jeder solche \texttt{bvlo:Place} wird dann umfassend bzgl. der Zugangsparameter
auf der Basis der drei Ontologien swa, bvla und bvlo beschrieben.
\newpage

\section{MINT-Orte}

\subsection{Hintergrund}
Während die Grundausrichtung des Leipzig Data Projekts auf den Aufbau von White
Pages bzw. Yellow Pages zu Akteuren, Orten und Adressen orientiert ist, wurde
zu verschiedenen Zeiten auch mit Möglichkeiten einer genaueren Darstellung von
Akteuren und deren Aktivitäten experimentiert.

Im Zuge eines dieser Experimente wurde der 2014 in Printform von der Stadt
Leipzig herausgegebene „Katalog der MINT- und Umweltangebote“ in eine digitale
Form übertragen. In diesem Katalog sind entsprechende Akteure und
außerschulische Lernorte zusammen mit einer Auswahl von Angeboten gelistet.

Die Arbeiten wurden im Rahmen eines studentischen Projekts
ausgeführt\footnote{\url{http://leipzig-data.de/ontology/mintbroschuere/}}, in
welchem die Daten nicht nur als RDF digitalisiert, sondern diese auch noch mit
weiteren Informationen aus eigener Recherche (Fotografien der einzelnen
Objekte) angereichert wurden. Die Daten sind in der Turtle-Datei
\url{http://leipzig-data.de/RDFData/MINTBroschuere2014.ttl} zusammengefasst.

\subsection{Schnittstelle}

SPARQL Endpunkt \url{http://leipzig-data.de:8890/sparql} des LD-Projekts.

Beispielanfrage:
\begin{code}  
  PREFIX mint2014: <http://leipzig-data.de/Data/MINT-2014/> \\
  PREFIX ld: <http://leipzig-data.de/Data/Model/> \\
  SELECT distinct ?a ?l ?k \\
  from  <http://leipzig-data.de/Data/MINTBroschuere2014/> \\
  WHERE \{ \+\\
    ?a a mint2014:Ortsbeschreibung; rdfs:label ?l . \\ 
    optional \{ ?a mint2014:Kurzinformation ?k . \} \-\\ 
  \} order by ?a
\end{code}

\subsection{Datenmodell}

Das Datenmodell umfasst drei Klassen \texttt{mint2014:Ortsbeschreibung},
\texttt{mint2014:Angebot} und \texttt{mint2014:Schwerpunkt}, mit denen eine
genauere Beschreibung der einzelnen Orte, der dort vorgehaltenen Angebote sowie
die Zuordnung dieser zu Schwerpunkten entsprechend der Methodik der
vorliegenden städtischen Broschüre umgesetzt wird.  Die Zuordnung zu Instanzen
vom Typ \texttt{ld:Ort} erfolgt durch ein Prädikat \texttt{mint2014:describes}

\paragraph{mint2014:Ortsbeschreibung – Beschreibung eines MINT-Orts}
\begin{itemize}
\item rdfs:label Literal – Bezeichnung
\item  mint2014:Kurzinformation Literal – Kurzinformation
\item  mint2014:Leistungsangebot Literal – Leistungsangebot
\item  mint2014:Oeffnungszeiten Literal – Öffnungszeiten
\item  mint2014:OePNV-Anbindung Literal – ÖPNV-Anbindung
\item  mint2014:Telefon Literal – Telefon
\item  mint2014:Fax Literal – Fay
\item  mint2014:Mail Literal – Email
\item  mint2014:Internet Literal  Webseite
\item  mint2014:hasTag ld:Tag – verschiedene Tags
\item  mint2014:hasImage Literal – Dateiname eines Fotos
\item  mint2014:hasLogo Literal – Dateiname des Logos
\item  mint2014:describes ld:Ort – MINT-Ort als Leipzig Data Ort
\end{itemize}
\paragraph{mint2014:Angebot – MINT-Angebot eines MINT-Orts}
\begin{itemize}
\item ld:Lernziele Literal – Lernziele des Angebots
\item ld:Zielgruppen Literal – Zielgruppen
\item ld:Kosten Literal – Kosten
\item ld:Veranstaltungsort Literal – Adresse – in LD.Adresse zu verwandeln
\item ld:Hinweise Literal – Hinweise zum Angebot
\item ld:Laufzeit Literal – Laufzeit des Angebots
\item ld:relatedBundle mint2014:Ortsbeschreibung – MINT-Ort, welcher das
  Angebot verantwortet
\item mint2014:hasTag ld:Tag – verschiedene Tags
\item rdfs:label Literal – Bezeichnung des Angebots
\end{itemize}
\paragraph{mint2014:Schwerpunkt – MINT-Schwerpunkt}
\begin{itemize}
\item ld:Zielgruppen Literal – Zielgruppe des Schwerpunkts
\item ld:Kosten Literal – Kosten
\item ld:GTA Literal – als Ganztagsangebot nutzbar?
\item ld:relatedBundle mint2014:Ortsbeschreibung – Schwerpunkt welches
  MINT-Orts
\item rdfs:label Literal – Bezeichnung des Schwerpunkts
\end{itemize}
\newpage

\section{Jugendstadtplan}

\subsection{Hintergrund}
Mit ähnlicher Motivation wie im Teilprojekt „MINT-Orte“ wurde bereits 2013 im
Vorfeld der in Leipzig stattfindenden „World Skills“ an einem Jugendtsdtplan
gearbeitet. 

Die Arbeiten wurden im Rahmen eines studentischen Projekts
ausgeführt\footnote{\url{http://leipzig-data.de/jugendstadtplan/}}, in welchem
eine entsprechende Datenbasis aufgebaut wurde. Die Daten wurden 2013 von einer
studentischen Projektgruppe gesammelt. Die Informationen sind in vielen Fällen
in Englisch und Deutsch vorhanden. Die Daten sind in der
Turtle-Datei \url{http://leipzig-data.de/RDFData/Jugendstadtplan.ttl}
zusammengefasst.

\subsection{Schnittstelle}

SPARQL Endpunkt \url{http://leipzig-data.de:8890/sparql} des LD-Projekts.

Beispielanfrage:
\begin{code}  
  PREFIX jsp: <http://leipzig-data.de/Data/Jugendstadtplan/> \\
  PREFIX ld: <http://leipzig-data.de/Data/Model/>\\
  SELECT distinct ?a ?l ?amb\\
  from  <http://leipzig-data.de/Data/Jugendstadtplan/>\\
  WHERE \{\+\\
    ?a a jsp:Ort; rdfs:label ?l . \\
    optional \{ ?a jsp:Ambiente ?amb . \} \-\\
  \} order by ?a
\end{code}

\subsection{Datenmodell}
In diesem Projekt wurde eine größere Hierarchie von Klassen aufgebaut, um so
Zusammenhänge zu modellieren, die in späteren Ansätzen als Tags oder
Eigenschaften modelliert wurden.

Zentrale Klasse ist \texttt{jsp:Ort}, die 142 Instanzen von Einrichtungen in
Leipzig beschreibt, die für Jugendliche interessant sind.  Dies entspricht
einer Ortsbeschreibung, allerdings mit einer eigenen Ontologie. Über das
Prädikat \texttt{jsp:describes} sind die Orte zu Instanzen von Typ
\texttt{ld:Ort} relatiert und damit in die restliche Welt des Leipzig Data
Projekt eingebunden.  Als Namenspräfix wird (bis auf aktuell zwei Ausnahmen --
das ist zu fixen) 
\begin{center}
  \texttt{http://leipzig-data.de/Data/Jugendstadtplan/Ort/}
\end{center}
verwendet.

\paragraph{Prädikate von jsp:Ort}
\begin{itemize}
\item rdfs:label, foaf:homepage, jsp:describes
\item jsp:AccessibilityComment
\item jsp:Altersbeschraenkung
\item jsp:Ambiente
\item jsp:Angebot
\item jsp:Anmeldung
\item jsp:Kostentyp
\item jsp:Musikrichtung
\item jsp:Rauchmoeglichkeit
\item jsp:Religioeser\_Ort
\item jsp:Type
\item jsp:Unterpunkt
\item jsp:hasAccessibility
\item jsp:hasArt
\item jsp:hasCost
\item jsp:hasEquipment
\item jsp:hasFreeTag
\item jsp:hasInstitutionType
\item jsp:hasIrregularOpeningHours
\item jsp:hasOpeningHours
\item jsp:hasUnterpunkt
\item jsp:hascategory
\item jsp:hasdescription
\item jsp:isType
\item jsp:suppliedBy
\item jsp:Untergruppe
\end{itemize}

Die weitere Struktur ist noch genauer zu beschreiben. 
\newpage

\section{Afeefa}

\subsection{Hintergrund}
2017 startete die Dresdner Afeefa-Gruppe\footnote{\url{https://afeefa.de/}}
Aktivitäten, um ein ähnliches Projekt in verschiedenen anderen Städten, so auch
in Leipzig\footnote{\url{https://leipzig.afeefa.de/}}, auszurollen.  Das
Leipziger Projekt wird -- nach Aussage auf der Webseite -- von „Interaction
Leipzig e.V“ betrieben, hat sich also organisatorisch von der Dresdner „Mutter“
abgespalten. Der Verein hat sich besonders im Bereich der Flüchtlingsarbeit
positioniert und profiliert. 

\subsection{Schnittstelle}

Wo ist die zu finden? 

\subsection{Datenmodell}
Ein erster Pitch einer Datentransformation, die über eine uns kommunizierte
REST-API ausgeführt wurde, ist unter \texttt{Transform/Data/Afeefa-Leipzig.ttl}
im LD „Tools“ Repo zu finden.

Das Ganze muss noch weiter analysiert werden. 

\section{bne-sachsen.de}

\subsection{Hintergrund}

Zu ergänzen.

\subsection{Schnittstelle}
Anfang Juni 2020 wurde die folgende API veröffentlicht\footnote{Siehe dazu die
  Mail von Mara Kayser an Matthias Schirmer vom 4.6.2020.}, über die einzene
Teile der Datenbasis ausgelesen werden können.  Die Daten werden als
JSON-Array zurückgegeben. Die folgenden Informationen sind aus der Datei
übernommen, die uns am 4.6.2020 geschickt wurde. 
\begin{itemize}
  \item Angebote: \url{https://bne-sachsen.de/wp-json/content/offers}
  \item Veranstaltungen: \url{https://bne-sachsen.de/wp-json/content/events}
  \item Materialien: \url{https://bne-sachsen.de/wp-json/content/materials}
  \item News: \url{https://bne-sachsen.de/wp-json/content/posts}
\end{itemize}
Mit Hilfe von Parametern können die zurückgegebenen Beiträge eingegrenzt
werden.  Parameter werden immer mit der Syntax
\texttt{?\{PARAMETER\_NAME\}=\{WERT\}} übergeben und können auf die übliche
Weise kombiniert werden.

Bsp.: \url{https://bne-sachsen.de/wp-json/content/offers?p=8234} 

\begin{itemize}
  \item \texttt{p} -- einzelnen Eintrag ausgeben. ID des Beitrags muss
    übergeben werden. \\ Beispiel:
    \url{https://bne-sachsen.de/wp-json/content/offers?p=8234} 
  \item \texttt{limit} -- Maximum der ausgegebenen Beiträgen angeben.
    \\ Beispiel: \url{https://bne-sachsen.de/wp-json/content/offers?limit=20}
  \item \texttt{author} -- Gibt alle Beiträge eines Autors zurück.
    \\ Beispiel:
    \url{https://bne-sachsen.de/wp-json/content/offers?author=115}
  \item \texttt{author\_name} -- Gibt alle Beiträge eines Autors zurück. Der
    „Slug“ des Autors muss übergeben werden. Der Slug kann aus dem Link zum
    Autorenprofil übernommen werden.  
  \item \texttt{district} - Gibt alle Beiträge aus dem Landkreis zurück. Nur
    für Veranstaltungen und Angebote verfügbar.  \\ Beispiel:
    \url{https://bne-sachsen.de/wp-json/content/offers?district=dresden}
\end{itemize}

\subsection{Analyse HGG vom 7. August 2021}

Die API von \texttt{bne-sachsen.de} wurde inzwischen komplett geändert.  Im
Gegensatz zu Juni 2020 gibt es keine districts mehr und wenn ich nach events
frage, bekomme ich nur posts geliefert. Die vier Aufrufe
\begin{itemize}
\item \url{https://bne-sachsen.de/wp-json/content/posts?p=9025}
\item \url{https://bne-sachsen.de/wp-json/content/events?p=9025}
\item \url{https://bne-sachsen.de/wp-json/content/materials?p=9025}
\item \url{https://bne-sachsen.de/wp-json/content/offers?p=9025}
\end{itemize}
liefern alle denselben post-Eintrag.

\end{document}
